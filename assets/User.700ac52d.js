var k=Object.defineProperty,x=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,V=Object.prototype.propertyIsEnumerable;var h=(s,e,o)=>e in s?k(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,c=(s,e)=>{for(var o in e||(e={}))C.call(e,o)&&h(s,o,e[o]);if(f)for(var o of f(e))V.call(e,o)&&h(s,o,e[o]);return s},b=(s,e)=>x(s,S(e));import{q,W as D,S as g,I as M,T as E,C as U,E as N,a as j,p as T,d as r}from"./firebase.8e6cca9d.js";import{r as A,o as d,c as i,a as t,m,v as u,p as _,F as v,j as B,l as F,t as p,b as H,w as I,d as W}from"./vendor.c5a18318.js";import{_ as z}from"./index.87bf8778.js";const L={data(){return{form:{name:"",age:""},formUpdate:{id:"",name:"",age:""},isShow:!1,users:[]}},methods:{async getHome(){const s=q(g(r,"users"),D("timestamp","desc"));await M(s,e=>{this.users=e.docs.map(o=>b(c({},o.data()),{id:o.id}))})},async deleteUser(s){await E(U(r,"users",s))},async addUser(){let s=new Date,e=s.getDate()+"/"+(s.getMonth()+1)+"/"+s.getFullYear()+" "+s.getHours()+":"+s.getMinutes();await N(g(r,"users"),{name:this.form.name,age:this.form.age,date:e,timestamp:j()}),this.form.name="",this.form.age=""},async editUser(s){this.isShow=!1;const e=U(r,"users",s);await T(e,{name:this.formUpdate.name,age:this.formUpdate.age})},showModal(s,e,o){this.isShow=!0,this.formUpdate.id=s,this.formUpdate.name=e,this.formUpdate.age=o}},created(){this.getHome()}},R=t("button",{type:"submit"},"Add",-1),Y={class:"table table-sm table-bordered"},G=t("thead",null,[t("tr",null,[t("th",null,"id"),t("th",null,"Name"),t("th",null,"Date"),t("th",null,"Age"),t("th",null,"Action")])],-1),J=["onClick"],K=["onClick"],O=W("Edit"),P={key:0,id:"sss"},Q=t("button",{type:"submit",class:"mt-3"},"Save",-1);function X(s,e,o,Z,n,l){const w=A("router-link");return d(),i(v,null,[t("form",{onSubmit:e[2]||(e[2]=_(a=>l.addUser(),["prevent"]))},[m(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>n.form.name=a),required:"",class:"d-block mb-1"},null,512),[[u,n.form.name]]),m(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=a=>n.form.age=a),required:"",class:"d-block mb-1"},null,512),[[u,n.form.age]]),R],32),t("table",Y,[G,t("tbody",null,[(d(!0),i(v,null,B(n.users,a=>(d(),i("tr",{key:a.id},[t("td",null,p(a.id),1),t("td",null,p(a.name),1),t("td",null,p(a.date),1),t("td",null,p(a.age),1),t("td",null,[t("button",{onClick:y=>l.deleteUser(a.id)},"Delete",8,J),t("button",{onClick:y=>l.showModal(a.id,a.name,a.age)},"Edit",8,K),H(w,{to:{name:"edit",params:{id:a.id}}},{default:I(()=>[O]),_:2},1032,["to"])])]))),128))])]),n.isShow==!0?(d(),i("div",P,[t("form",{onSubmit:e[6]||(e[6]=_(a=>l.editUser(n.formUpdate.id),["prevent"])),id:"zxc",class:"bg-warning p-3"},[m(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=a=>n.formUpdate.name=a),class:"d-block mb-1",required:""},null,512),[[u,n.formUpdate.name]]),m(t("input",{type:"text","onUpdate:modelValue":e[4]||(e[4]=a=>n.formUpdate.age=a),class:"d-block mb-1",required:""},null,512),[[u,n.formUpdate.age]]),Q,t("button",{onClick:e[5]||(e[5]=a=>n.isShow=!1)},"Cancel")],32)])):F("",!0)],64)}var ae=z(L,[["render",X]]);export{ae as default};
